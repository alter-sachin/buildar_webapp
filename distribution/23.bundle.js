(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{590:function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return E})),r.d(t,"a",(function(){return y})),r.d(t,"h",(function(){return P})),r.d(t,"e",(function(){return _})),r.d(t,"b",(function(){return I})),r.d(t,"j",(function(){return U})),r.d(t,"m",(function(){return S})),r.d(t,"o",(function(){return v})),r.d(t,"i",(function(){return A})),r.d(t,"q",(function(){return F})),r.d(t,"l",(function(){return b})),r.d(t,"p",(function(){return N})),r.d(t,"n",(function(){return C})),r.d(t,"k",(function(){return g}));var n=r(31),o=r(2),a=r(27);var u="profile",s=u+"/LOAD_PROFILE_PENDING",i=u+"/LOAD_PROFILE_FULFILLED",c=u+"/LOAD_PROFILE_REJECTED",f=u+"/UPDATE_PROFILE_PENDING",p=u+"/UPDATE_PROFILE_FULFILLED",E=u+"/UPDATE_PROFILE_REJECTED",d=u+"/CHANGE_PASSWORD_PENDING",l=u+"/CHANGE_PASSWORD_FULFILLED",y=u+"/CHANGE_PASSWORD_REJECTED",h=u+"/VERIFY_EMAIL_CHANGE_PENDING",T=u+"/VERIFY_EMAIL_CHANGE_FULFILLED",P=u+"/VERIFY_EMAIL_CHANGE_REJECTED",D=u+"/SAVE_PROFILE_PHOTO_PENDING",L=u+"/SAVE_PROFILE_PHOTO_FULFILLED",_=u+"/SAVE_PROFILE_PHOTO_REJECTED",R=u+"/DELETE_PROFILE_PHOTO_PENDING",O=u+"/DELETE_PROFILE_PHOTO_FULFILLED",I=u+"/DELETE_PROFILE_PHOTO_REJECTED",m=Object(n.fromJS)({});function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return e.setIn(["loadProfile","status"],o.REDUX_STATE.PENDING);case i:return e.set("loadProfile",Object(n.fromJS)({status:o.REDUX_STATE.FULFILLED,payload:t.payload}));case c:return e.set("loadProfile",Object(n.fromJS)({status:o.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case f:return e.setIn(["updateProfile","status"],o.REDUX_STATE.PENDING);case p:return e.set("updateProfile",Object(n.fromJS)({status:o.REDUX_STATE.FULFILLED,payload:t.payload}));case E:return e.set("updateProfile",Object(n.fromJS)({status:o.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case d:return e.setIn(["changePassword","status"],o.REDUX_STATE.PENDING);case l:return e.set("changePassword",Object(n.fromJS)({status:o.REDUX_STATE.FULFILLED,payload:t.payload}));case y:return e.set("changePassword",Object(n.fromJS)({status:o.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case D:return e.setIn(["saveProfilePhoto","status"],o.REDUX_STATE.PENDING);case L:return e.set("saveProfilePhoto",Object(n.fromJS)({status:o.REDUX_STATE.FULFILLED,payload:t.payload}));case _:return e.set("saveProfilePhoto",Object(n.fromJS)({status:o.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case R:return e.setIn(["deleteProfilePhoto","status"],o.REDUX_STATE.PENDING);case O:return e.set("deleteProfilePhoto",Object(n.fromJS)({status:o.REDUX_STATE.FULFILLED,payload:t.payload}));case I:return e.set("deleteProfilePhoto",Object(n.fromJS)({status:o.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case h:return e.setIn(["verifyEmailChange","status"],o.REDUX_STATE.PENDING);case T:return e.setIn(["verifyEmailChange","status"],o.REDUX_STATE.FULFILLED);case P:return e.setIn(["verifyEmailChange","status"],o.REDUX_STATE.REJECTED);default:return e}}function S(){return function(e){return e({type:s}),a.a.perform("/api/v1.0/profile",{method:"GET"}).then((function(t){return e({type:i,payload:t})}),(function(t){return e({type:c,payload:t})}))}}function v(e){return function(t){return t({type:f}),function(e){return a.a.perform("/api/v1.0/profile",{method:"PATCH",body:JSON.stringify(e)})}(e).then((function(e){return t({type:p,payload:e})}),(function(e){return t({type:E,payload:e})}))}}function A(e){return function(t){return t({type:d}),function(e){return a.a.perform("/api/v1.0/profile/change-password",{method:"POST",body:JSON.stringify({currentPassword:e.currentPassword,newPassword:e.newPassword,confirmPassword:e.confirmPassword})})}(e).then((function(e){return t({type:l,payload:e})}),(function(e){return t({type:y,payload:e})}))}}function F(e){return function(t){return t({type:h}),(r=e,a.a.perform("/api/v1.0/profile/verify-email-change",{method:"POST",body:JSON.stringify({code:r.code,userId:r.userId,workspaceURL:r.workspaceURL})})).then((function(e){return t({type:T,payload:e})}),(function(e){return t({type:P,payload:e})}));var r}}function b(e){return function(t){return t({type:D}),function(e){return a.a.perform("/api/v1.0/profile/generate-signed-profile-photo-url",{method:"GET",headers:{contentType:e.contentType}})}(e).then((function(e){return e}),(function(e){return t({type:_,payload:e})}))}}function N(e){return function(t){return t({type:D}),function(e){return a.a.simple(e.signedURL,{method:"PUT",headers:{"Content-Type":e.contentType},body:e.data})}(e).then((function(e){return e}),(function(e){return t({type:_,payload:e})}))}}function C(e){return function(t){return t({type:D}),function(e){return a.a.perform("/api/v1.0/profile/save-profile-photo",{method:"POST",body:JSON.stringify({key:e.key})})}(e).then((function(e){return t({type:L,payload:e})}),(function(e){return t({type:_,payload:e})}))}}function g(){return function(e){return e({type:R}),a.a.perform("/api/v1.0/profile/delete-profile-photo",{method:"PATCH"}).then((function(t){return e({type:O,payload:t})}),(function(t){return e({type:I,payload:t})}))}}},948:function(e,t,r){"use strict";r.r(t);var n=r(5),o=r.n(n),a=r(6),u=r.n(a),s=r(9),i=r.n(s),c=r(8),f=r.n(c),p=r(4),E=r.n(p),d=r(0),l=r(1),y=r.n(l),h=r(593),T=r.n(h),P=r(54),D=r(40),L=r(10),_=r(100),R=r(7),O=r(612),I=r(25),m=r(23),U=r(590);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E()(e);if(t){var o=E()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f()(this,r)}}var v=function(e){i()(r,e);var t=S(r);function r(){return o()(this,r),t.apply(this,arguments)}return u()(r,[{key:"componentDidMount",value:function(){this.VerifyEmailChange()}},{key:"VerifyEmailChange",value:function(){var e=this,t=Object(O.a)(window.location.href);this.props.validateWorkspaceURL(t).then((function(r){if(r.type!==m.i){var n={code:T.a.parse(e.props.history.location.hash).code,workspaceURL:t};e.props.user&&e.props.user.get("userId")&&(n.userId=e.props.user.get("userId")),e.props.verifyUserEmailChange(n).then((function(t){if(_.notify.hide(),t.type===U.h)return _.notify.show("".concat(Object(R.f)("error.verifyEmailChange")," (").concat(t.payload.message,")"),"error"),void e.props.history.replace("/");null!==n.userId&&e.props.loadUser().then((function(t){t.type!==m.c?(_.notify.show(Object(R.f)("success.verifyEmailChange"),"success"),e.props.history.replace("/")):window.location.reload})),_.notify.show(Object(R.f)("success.verifyEmailChange"),"success"),e.props.history.replace("/")}))}else e.props.history.replace("/")}))}},{key:"render",value:function(){return null}}]),r}(d.Component);v.propTypes={history:y.a.object,user:y.a.object,loadUser:y.a.func,validateWorkspaceURL:y.a.func,verifyUserEmailChange:y.a.func},t.default=Object(L.g)(Object(I.a)(Object(P.b)(null,(function(e){return{loadUser:Object(D.b)(m.m,e),verifyUserEmailChange:Object(D.b)(U.q,e),validateWorkspaceURL:Object(D.b)(m.t,e)}}))(v)))}}]);