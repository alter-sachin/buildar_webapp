(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{568:function(e,t,a){var n;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var i in n)a.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},569:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(16);var n=a(0),r=a.n(n),o=r.a.createContext({});o.Consumer,o.Provider;function s(e,t){var a=Object(n.useContext)(o);return e||a[t]||t}},570:function(e,t,a){"use strict";var n=a(33),r=a.n(n),o=a(4),s=a.n(o),i=a(5),l=a.n(i),c=a(15),u=a.n(c),d=a(13),p=a.n(d),m=a(6),f=a.n(m),v=a(0),b=a.n(v),g=a(3),h=a.n(g),y=a(7),E=a(571),O=a(18);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=f()(e);if(t){var r=f()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return p()(this,a)}}var C=function(e){u()(a,e);var t=j(a);function a(){return s()(this,a),t.apply(this,arguments)}return l()(a,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.error,n=e.showMessage;if(e.showAlert&&a&&(429===a.status||500===a.status))return b.a.createElement(E.a,{title:"".concat(Object(O.e)("label.error"),": ").concat(Object(O.e)("error.somethingWentWrong")),closeModal:function(){return t.push("/")}},a.message);if(n&&a&&a.reason){var o=a.reason;if("string"==typeof o||o instanceof String)return b.a.createElement("div",{className:"alert alert-danger rounded-0"},o);if("object"===r()(o)||o instanceof Object){for(var s=[],i=0,l=Object.keys(o);i<l.length;i++){var c=l[i];s.push(b.a.createElement("div",{key:c},o[c]))}if(s.length>0)return b.a.createElement("div",{className:"alert alert-danger rounded-0"},s)}}return null}}]),a}(v.Component);C.defaultProps={showMessage:!0,showAlert:!0,error:{}},C.propTypes={history:h.a.object,showMessage:h.a.bool,showAlert:h.a.bool,error:h.a.object},t.a=Object(y.g)(C)},571:function(e,t,a){"use strict";var n=a(4),r=a.n(n),o=a(5),s=a.n(o),i=a(15),l=a.n(i),c=a(13),u=a.n(c),d=a(6),p=a.n(d),m=a(0),f=a.n(m),v=a(3),b=a.n(v),g=a(579),h=a.n(g),y=a(18);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var O=function(e){l()(a,e);var t=E(a);function a(){return r()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.children,n=e.closeModal;return f.a.createElement("div",{className:"modal",tabIndex:"-1"},f.a.createElement(h.a,{contentLabel:t,className:"modal-dialog modal-dialog-centered",isOpen:!0,ariaHideApp:!1,onRequestClose:n},f.a.createElement("div",{className:"modal-content rounded-0",role:"document"},f.a.createElement("div",{className:"modal-header"},f.a.createElement("h5",{className:"modal-title"},t),f.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:n},f.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),f.a.createElement("div",{className:"modal-body"},a),f.a.createElement("div",{className:"modal-footer"},n&&f.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:n,"data-dismiss":"modal"},Object(y.e)("action.close"))))))}}]),a}(m.Component);O.propTypes={title:b.a.string,children:b.a.oneOfType([b.a.string,b.a.object]),closeModal:b.a.func},t.a=O},572:function(e,t,a){"use strict";var n=a(599),r=a.n(n),o=a(18);t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.a;return n.options={fullMessages:!1},n.validators.noEmptyValue=function(e){if(""===e||"string"==typeof e&&""===e.trim()||e===[]||e==={})return Object(o.e)("validation.validators.cannotBeBlank")},n.validators.date.options={message:Object(o.e)("validation.validators.validDate")},n.validators.datetime.options={message:Object(o.e)("validation.validators.validDate")},n.validators.email.options={message:Object(o.e)("validation.validators.invalidEmail")},n.validators.equality.options={message:Object(o.e)("validation.validators.notEqual")},n.validators.exclusion.options={message:Object(o.e)("validation.validators.restricted")},n.validators.format.options={message:Object(o.e)("validation.validators.invalid")},n.validators.inclusion.options={message:Object(o.e)("validation.validators.notIncluded")},n.validators.length.options={message:Object(o.e)("validation.validators.invalid")},n.validators.numericality.options={message:Object(o.e)("validation.validators.invalid")},n.validators.presence.options={message:Object(o.e)("validation.validators.cannotBeBlank")},n.validators.url.options={message:Object(o.e)("validation.validators.invalidURL")},n(e,t,a)}},576:function(e,t,a){"use strict";var n=a(4),r=a.n(n),o=a(5),s=a.n(o),i=a(15),l=a.n(i),c=a(13),u=a.n(c),d=a(6),p=a.n(d),m=a(0),f=a.n(m),v=a(3),b=a.n(v),g=a(7),h=a(581),y=a.n(h),E=a(602),O=a.n(E);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var C=function(e){l()(a,e);var t=j(a);function a(){return r()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.path,n=e.message,r=y.a.parse(t.location.search);return n&&!0===O()(r,a)?f.a.createElement("div",{className:"alert alert-success rounded-0"},n):null}}]),a}(m.Component);C.propTypes={history:b.a.object,path:b.a.object,message:b.a.oneOfType([b.a.string,b.a.object])},t.a=Object(g.g)(C)},577:function(e,t,a){"use strict";var n=a(4),r=a.n(n),o=a(5),s=a.n(o),i=a(15),l=a.n(i),c=a(13),u=a.n(c),d=a(6),p=a.n(d),m=a(0),f=a.n(m),v=a(3),b=a.n(v),g=a(586);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var y=function(e){l()(a,e);var t=h(a);function a(){return r()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,n=e.onChange,r=e.label,o=e.id,s=e.type,i=e.ariaLabel,l=e.smallText,c=e.placeholder,u=e.required,d=e.disabled,p=e.error,m=e.defaultValue;return f.a.createElement("div",{className:"form-group"},r&&f.a.createElement("label",{htmlFor:o},r," ",u&&"*"),f.a.createElement("div",{className:"input-group"},f.a.createElement("input",{name:t,value:a,type:s,defaultValue:m,className:"form-control rounded-0",id:o,"aria-describedby":i,onChange:n,placeholder:c,disabled:d}),p&&p[t]&&f.a.createElement("div",{className:"d-block invalid-feedback"},p[t][0]),l&&f.a.createElement("div",{className:"w-100 text-muted"},f.a.createElement("small",null,l))))}}]),a}(f.a.Component);y.propTypes={name:b.a.string,value:b.a.string,onChange:b.a.func,defaultValue:g.a.func,label:b.a.string,id:b.a.string,type:b.a.string,ariaLabel:b.a.string,placeholder:b.a.string,smallText:b.a.string,required:b.a.bool,disabled:b.a.bool,error:b.a.object},t.a=y},586:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(16),r=a(32),o=a(568),s=a.n(o),i=a(0),l=a.n(i),c=a(3),u=a.n(c),d=a(569),p={bsPrefix:u.a.string,fluid:u.a.bool,rounded:u.a.bool,roundedCircle:u.a.bool,thumbnail:u.a.bool},m=l.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,i=e.fluid,c=e.rounded,u=e.roundedCircle,p=e.thumbnail,m=Object(r.a)(e,["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"]);a=Object(d.a)(a,"img");var f=s()(i&&a+"-fluid",c&&"rounded",u&&"rounded-circle",p&&a+"-thumbnail");return l.a.createElement("img",Object(n.a)({ref:t},m,{className:s()(o,f)}))}));m.displayName="Image",m.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1}},593:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return l}));var n=a(18),r=a(2);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"post",t="patch"!=e;return{name:{presence:t,noEmptyValue:!0,length:{maximum:255}},description:{presence:t,noEmptyValue:!1,length:{maximum:255}}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"post",t="patch"!=e;return{defaultLanguage:{presence:t,noEmptyValue:!0,inclusion:{within:r.RESTRICTED_LANGUAGES}}}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"post",t="patch"!=e;return{logoImage:{presence:t,format:{pattern:"^$|[0-9]*_[0-9]*_[0-9]*.[a-z]+$",flags:"i",message:Object(n.e)("validation.validators.validKey")}},backgroundImage:{presence:t,format:{pattern:"^$|[0-9]*_[0-9]*_[0-9]*.[a-z]+$",flags:"i",message:Object(n.e)("validation.validators.validKey")}},backgroundColor:{presence:t,noEmptyValue:!0,format:{pattern:"^#[0-9A-F]{6}$",flags:"i",message:Object(n.e)("validation.validators.validHex")}},primaryColor:{presence:t,noEmptyValue:!0,format:{pattern:"^#[0-9A-F]{6}$",flags:"i",message:Object(n.e)("validation.validators.validHex")}},secondaryColor:{presence:t,noEmptyValue:!0,format:{pattern:"^#[0-9A-F]{6}$",flags:"i",message:Object(n.e)("validation.validators.validHex")}}}}function l(){return{workspaceURL:{presence:{allowEmpty:!1},format:{pattern:"[a-z0-9]+",flags:"i",message:Object(n.e)("validation.validators.validCharactersAZ09")},exclusion:{within:r.RESTRICTED_DOMAINS,message:Object(n.e)("validation.validators.validWorkspaceURL")},length:{maximum:255}},accountPassword:{presence:{allowEmpty:!1},length:{minimum:6,maximum:66,message:Object(n.e)("validation.validators.invalidPasswordLength")}}}}},671:function(e,t,a){"use strict";var n=a(4),r=a.n(n),o=a(5),s=a.n(o),i=a(15),l=a.n(i),c=a(13),u=a.n(c),d=a(6),p=a.n(d),m=a(0),f=a.n(m),v=a(3),b=a.n(v);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var h=function(e){l()(a,e);var t=g(a);function a(){return r()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,n=e.onChange,r=e.label,o=e.rows,s=e.id,i=e.ariaLabel,l=e.smallText,c=e.resize,u=e.placeholder,d=e.required,p=e.disabled,m=e.error;return f.a.createElement("div",{className:"form-group"},r&&f.a.createElement("label",{htmlFor:s},r," ",d&&"*"),f.a.createElement("div",{className:"input-group"},f.a.createElement("textarea",{name:t,value:a,style:{resize:c?"vertical":"none"},rows:o,className:"form-control rounded-0",id:s,"aria-describedby":i,onChange:n,placeholder:u,disabled:p}),m&&m[t]&&f.a.createElement("div",{className:"d-block invalid-feedback"},m[t][0]),l&&f.a.createElement("div",{className:"w-100 text-muted"},f.a.createElement("small",null,l))))}}]),a}(f.a.Component);h.propTypes={name:b.a.string,value:b.a.string,onChange:b.a.func,label:b.a.string,id:b.a.string,ariaLabel:b.a.string,rows:b.a.number,resize:b.a.bool,placeholder:b.a.string,smallText:b.a.string,required:b.a.bool,disabled:b.a.bool,error:b.a.object},t.a=h},947:function(e,t,a){"use strict";a.r(t);var n=a(28),r=a.n(n),o=a(4),s=a.n(o),i=a(5),l=a.n(i),c=a(27),u=a.n(c),d=a(15),p=a.n(d),m=a(13),f=a.n(m),v=a(6),b=a.n(v),g=a(0),h=a.n(g),y=a(3),E=a.n(y),O=a(51),j=a(79),C=a(62),R=a(7),N=a(44),k=a.n(N),x=a(2),w=a(572),T=a(593),S=a(18),L=a(35),A=a(609),F=a(34),_=a(97),P=a(617),D=a(577),M=a(671),U=a(576),I=a(570);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return f()(this,a)}}var q=function(e){p()(a,e);var t=B(a);function a(e){var n;return s()(this,a),(n=t.call(this,e)).state={name:"",description:"",loading:!0,validationErrors:null,serverError:null},n.setEditableFields=n.setEditableFields.bind(u()(n)),n.changeField=n.changeField.bind(u()(n)),n.updateAccessConfiguration=n.updateAccessConfiguration.bind(u()(n)),n}return l()(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&this.setState({loading:!0,validationErrors:null,serverError:null}),this.props.loadClient().then((function(t){t.type!==A.b?e._isMounted&&e.setEditableFields(t.payload.client):e._isMounted&&e.setState({serverError:t.payload})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"setEditableFields",value:function(e){this.setState({name:e.name||"",description:e.description||"",loading:!1})}},{key:"changeField",value:function(e){this.setState(r()({},e.target.name,e.target.value))}},{key:"updateAccessConfiguration",value:function(e){var t=this;e.preventDefault(),this._isMounted&&this.setState({loading:!0,validationErrors:null,serverError:null});var a={name:this.state.name,description:this.state.description},n=Object(w.a)(a,Object(T.b)());if(null==n){var r=Object(L.e)(a,this.props.client);null!=Object(w.a)(r,Object(T.b)("patch"))?this._isMounted&&this.setState({loading:!1,validationErrors:n}):this.props.updateClient(r).then((function(e){e.type===A.g?t._isMounted&&t.setState({loading:!1,serverError:e.payload}):t.props.loadClient().then((function(e){e.type!==A.b?t._isMounted&&t.props.loadUser().then((function(e){if(e.type===F.c)return t.setState({loading:!1}),void window.location.reload;t.setState({loading:!1}),t.props.history.push("/settings/general?updateaccessconfiguration=success")})):t._isMounted&&t.setState({serverError:e.payload})}))}))}else this._isMounted&&this.setState({loading:!1,validationErrors:n})}},{key:"render",value:function(){var e=this,t=this.props,a=t.client,n=t.user,r=t.loadClientStatus,o=t.updateClientStatus,s=this.state,i=s.name,l=s.description,c=s.loading,u=s.validationErrors,d=s.serverError,p=c||r==x.REDUX_STATE.PENDING||o==x.REDUX_STATE.PENDING,m=o===x.REDUX_STATE.FULFILLED&&!d&&!u;return h.a.createElement("div",null,h.a.createElement("h1",null,Object(S.e)("components.settings.general.generalSettings")),h.a.createElement("div",{className:"mt-3 mb-5"},h.a.createElement("h5",null,Object(S.e)("components.settings.general.accountSummary")),h.a.createElement("div",{className:"card rounded-0 my-3 text-left"},h.a.createElement("div",{className:"card-body"},h.a.createElement("div",null,h.a.createElement(P.a,{user:n,disabled:!1,hasAnyRole:[x.ROLE_TYPE.OWNER,x.ROLE_TYPE.FINANCE]},h.a.createElement(g.Fragment,null,h.a.createElement("b",null,Object(S.e)("components.settings.general.subscriptionType"))," ",h.a.createElement("span",{className:"text-uppercase text-muted"},a&&Object(S.e)("components.billing.subscriptionType.".concat(a.get("subscriptionType"))))," ",a&&a.get("subscriptionType")==x.SUBSCRIPTION_TYPE.TRIAL&&h.a.createElement(C.b,{to:{pathname:"/billing"}},"(",Object(S.e)("components.settings.general.upgradePaidPlan"),")")))),h.a.createElement("div",null,h.a.createElement("b",null,Object(S.e)("components.settings.general.workspaceCreationDate"))," ",h.a.createElement("span",{className:"text-muted"},a&&k()(a.get("createdDate")).format("MMMM Do YYYY, h:mm A"))),h.a.createElement("div",null,h.a.createElement("b",null,Object(S.e)("components.settings.general.activeUsers"))," ",h.a.createElement("span",{className:"text-muted"},a&&a.get("activeUsers")))))),h.a.createElement("div",{className:"mt-3 mb-5"},h.a.createElement("h5",null,Object(S.e)("components.settings.general.accessConfiguration")),h.a.createElement("div",{className:"card rounded-0 my-3 text-left"},h.a.createElement("div",{className:"card-body"},m&&h.a.createElement(U.a,{path:{updateaccessconfiguration:"success"},message:Object(S.e)("success.updateAccessConfiguration")}),h.a.createElement(I.a,{error:d}),h.a.createElement(D.a,{label:Object(S.e)("components.settings.general.workspaceTitle"),name:"name",id:"name-input",value:i,type:"textField",ariaLabel:Object(S.e)("components.settings.general.workspaceTitle"),onChange:this.changeField,required:!0,disabled:p,error:u}),h.a.createElement(D.a,{label:Object(S.e)("components.settings.general.workspaceURL"),name:"workspaceurl",id:"workspaceurl-input",value:a?"".concat("http","://").concat(a.get("workspaceURL"),".").concat("localhost:3000","/").toLowerCase():"",type:"textField",ariaLabel:Object(S.e)("components.settings.general.workspaceURL"),smallText:Object(S.e)("components.settings.general.workspaceURLUniqueAddress"),disabled:!0}),h.a.createElement(M.a,{label:Object(S.e)("components.settings.general.workspaceDescription"),name:"description",id:"description-input",value:l,type:"textArea",ariaLabel:Object(S.e)("components.settings.general.workspaceDescription"),rows:2,onChange:this.changeField,smallText:Object(S.e)("components.settings.general.workspaceDescriptionSubText"),disabled:p,error:u}),h.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm btn-block mt-4 p-3",onClick:this.updateAccessConfiguration,disabled:p},Object(S.e)("action.update"))))),h.a.createElement(P.a,{user:n,hasAllRoles:[x.ROLE_TYPE.OWNER]},h.a.createElement("div",{className:"mt-3 mb-5"},h.a.createElement("h5",null,Object(S.e)("components.settings.general.dangerZone")),h.a.createElement("div",{className:"card rounded-0 my-3 text-left"},h.a.createElement("div",{className:"card-body"},h.a.createElement(g.Fragment,null,h.a.createElement("label",{className:"text-danger"},h.a.createElement("b",null,Object(S.e)("components.settings.general.deleteWorkspace"))),h.a.createElement("div",{className:"text-danger"},Object(S.e)("components.settings.general.deleteWorkspaceWarning")),h.a.createElement("button",{type:"submit",className:"btn btn-danger btn-sm mt-3 p-2",onClick:function(){return e.props.history.push("/settings/general/delete-workspace")},disabled:p},Object(S.e)("components.settings.general.deleteWorkspace"))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.loadClientStatus===t.loadClientStatus?null:e.loadClientStatus===x.REDUX_STATE.FULFILLED?{loadClientStatus:x.REDUX_STATE.FULFILLED}:null}}]),a}(g.Component);q.propTypes={history:E.a.object,client:E.a.object,user:E.a.object,loadUser:E.a.func,loadClient:E.a.func,loadClientStatus:E.a.string,updateClient:E.a.func,updateClientStatus:E.a.string},t.default=Object(_.a)(Object(R.g)(Object(j.b)((function(e){return{loadClientStatus:e.getIn([A.f,"loadClient","status"]),updateClientStatus:e.getIn([A.f,"updateClient","status"]),client:e.getIn([A.f,"loadClient","payload","client"])}}),(function(e){return{loadUser:Object(O.b)(F.m,e),loadClient:Object(O.b)(A.m,e),updateClient:Object(O.b)(A.q,e)}}))(q)))}}]);