(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{561:function(e,t,a){var r;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=n.apply(null,r);i&&e.push(i)}else if("object"===o)for(var l in r)a.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},562:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a(18);var r=a(0),n=a.n(r).a.createContext({});function o(e,t){var a=Object(r.useContext)(n);return e||a[t]||t}n.Consumer,n.Provider},563:function(e,t,a){"use strict";var r=a(40),n=a.n(r),o=a(5),i=a.n(o),l=a(6),s=a.n(l),c=a(9),u=a.n(c),d=a(8),f=a.n(d),p=a(4),m=a.n(p),h=a(0),b=a.n(h),v=a(1),g=a.n(v),E=a(10),y=a(564),P=a(7);var O=function(e){u()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.error,r=e.showMessage;if(e.showAlert&&a&&(429===a.status||500===a.status))return b.a.createElement(y.a,{title:"".concat(Object(P.f)("label.error"),": ").concat(Object(P.f)("error.somethingWentWrong")),closeModal:function(){return t.push("/")}},a.message);if(r&&a&&a.reason){var o=a.reason;if("string"==typeof o||o instanceof String)return b.a.createElement("div",{className:"alert alert-danger rounded-0"},o);if("object"===n()(o)||o instanceof Object){for(var i=[],l=0,s=Object.keys(o);l<s.length;l++){var c=s[l];i.push(b.a.createElement("div",{key:c},o[c]))}if(i.length>0)return b.a.createElement("div",{className:"alert alert-danger rounded-0"},i)}}return null}}]),a}(h.Component);O.defaultProps={showMessage:!0,showAlert:!0,error:{}},O.propTypes={history:g.a.object,showMessage:g.a.bool,showAlert:g.a.bool,error:g.a.object},t.a=Object(E.g)(O)},564:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(6),i=a.n(o),l=a(9),s=a.n(l),c=a(8),u=a.n(c),d=a(4),f=a.n(d),p=a(0),m=a.n(p),h=a(1),b=a.n(h),v=a(572),g=a.n(v),E=a(7);var y=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(){return n()(this,a),t.apply(this,arguments)}return i()(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.children,r=e.closeModal;return m.a.createElement("div",{className:"modal",tabIndex:"-1"},m.a.createElement(g.a,{contentLabel:t,className:"modal-dialog modal-dialog-centered",isOpen:!0,ariaHideApp:!1,onRequestClose:r},m.a.createElement("div",{className:"modal-content rounded-0",role:"document"},m.a.createElement("div",{className:"modal-header"},m.a.createElement("h5",{className:"modal-title"},t),m.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:r},m.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),m.a.createElement("div",{className:"modal-body"},a),m.a.createElement("div",{className:"modal-footer"},r&&m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:r,"data-dismiss":"modal"},Object(E.f)("action.close"))))))}}]),a}(p.Component);y.propTypes={title:b.a.string,children:b.a.oneOfType([b.a.string,b.a.object]),closeModal:b.a.func},t.a=y},565:function(e,t,a){"use strict";var r=a(592),n=a.n(r),o=a(7);t.a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.a;return r.options={fullMessages:!1},r.validators.noEmptyValue=function(e){if(""===e||"string"==typeof e&&""===e.trim()||e===[]||e==={})return Object(o.f)("validation.validators.cannotBeBlank")},r.validators.date.options={message:Object(o.f)("validation.validators.validDate")},r.validators.datetime.options={message:Object(o.f)("validation.validators.validDate")},r.validators.email.options={message:Object(o.f)("validation.validators.invalidEmail")},r.validators.equality.options={message:Object(o.f)("validation.validators.notEqual")},r.validators.exclusion.options={message:Object(o.f)("validation.validators.restricted")},r.validators.format.options={message:Object(o.f)("validation.validators.invalid")},r.validators.inclusion.options={message:Object(o.f)("validation.validators.notIncluded")},r.validators.length.options={message:Object(o.f)("validation.validators.invalid")},r.validators.numericality.options={message:Object(o.f)("validation.validators.invalid")},r.validators.presence.options={message:Object(o.f)("validation.validators.cannotBeBlank")},r.validators.url.options={message:Object(o.f)("validation.validators.invalidURL")},r(e,t,a)}},568:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(6),i=a.n(o),l=a(9),s=a.n(l),c=a(8),u=a.n(c),d=a(4),f=a.n(d),p=a(0),m=a.n(p),h=a(1),b=a.n(h),v=a(10),g=a(574),E=a.n(g),y=a(594),P=a.n(y);var O=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(){return n()(this,a),t.apply(this,arguments)}return i()(a,[{key:"render",value:function(){var e=this.props,t=e.history,a=e.path,r=e.message,n=E.a.parse(t.location.search);return r&&!0===P()(n,a)?m.a.createElement("div",{className:"alert alert-success rounded-0"},r):null}}]),a}(p.Component);O.propTypes={history:b.a.object,path:b.a.object,message:b.a.oneOfType([b.a.string,b.a.object])},t.a=Object(v.g)(O)},569:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(6),i=a.n(o),l=a(9),s=a.n(l),c=a(8),u=a.n(c),d=a(4),f=a.n(d),p=a(0),m=a.n(p),h=a(1),b=a.n(h),v=a(579);var g=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(){return n()(this,a),t.apply(this,arguments)}return i()(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,r=e.onChange,n=e.label,o=e.id,i=e.type,l=e.ariaLabel,s=e.smallText,c=e.placeholder,u=e.required,d=e.disabled,f=e.error,p=e.defaultValue;return m.a.createElement("div",{className:"form-group"},n&&m.a.createElement("label",{htmlFor:o},n," ",u&&"*"),m.a.createElement("div",{className:"input-group"},m.a.createElement("input",{name:t,value:a,type:i,defaultValue:p,className:"form-control rounded-0",id:o,"aria-describedby":l,onChange:r,placeholder:c,disabled:d}),f&&f[t]&&m.a.createElement("div",{className:"d-block invalid-feedback"},f[t][0]),s&&m.a.createElement("div",{className:"w-100 text-muted"},m.a.createElement("small",null,s))))}}]),a}(m.a.Component);g.propTypes={name:b.a.string,value:b.a.string,onChange:b.a.func,defaultValue:v.a.func,label:b.a.string,id:b.a.string,type:b.a.string,ariaLabel:b.a.string,placeholder:b.a.string,smallText:b.a.string,required:b.a.bool,disabled:b.a.bool,error:b.a.object},t.a=g},571:function(e,t,a){"use strict";var r=a(31),n=a(2),o=a(27);a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"g",(function(){return f})),a.d(t,"a",(function(){return h})),a.d(t,"h",(function(){return g})),a.d(t,"e",(function(){return P})),a.d(t,"b",(function(){return S})),a.d(t,"j",(function(){return L})),a.d(t,"m",(function(){return N})),a.d(t,"o",(function(){return F})),a.d(t,"i",(function(){return R})),a.d(t,"q",(function(){return x})),a.d(t,"l",(function(){return D})),a.d(t,"p",(function(){return T})),a.d(t,"n",(function(){return k})),a.d(t,"k",(function(){return C}));var i="profile",l=i+"/LOAD_PROFILE_PENDING",s=i+"/LOAD_PROFILE_FULFILLED",c=i+"/LOAD_PROFILE_REJECTED",u=i+"/UPDATE_PROFILE_PENDING",d=i+"/UPDATE_PROFILE_FULFILLED",f=i+"/UPDATE_PROFILE_REJECTED",p=i+"/CHANGE_PASSWORD_PENDING",m=i+"/CHANGE_PASSWORD_FULFILLED",h=i+"/CHANGE_PASSWORD_REJECTED",b=i+"/VERIFY_EMAIL_CHANGE_PENDING",v=i+"/VERIFY_EMAIL_CHANGE_FULFILLED",g=i+"/VERIFY_EMAIL_CHANGE_REJECTED",E=i+"/SAVE_PROFILE_PHOTO_PENDING",y=i+"/SAVE_PROFILE_PHOTO_FULFILLED",P=i+"/SAVE_PROFILE_PHOTO_REJECTED",O=i+"/DELETE_PROFILE_PHOTO_PENDING",w=i+"/DELETE_PROFILE_PHOTO_FULFILLED",S=i+"/DELETE_PROFILE_PHOTO_REJECTED",j=Object(r.fromJS)({});function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return e.setIn(["loadProfile","status"],n.REDUX_STATE.PENDING);case s:return e.set("loadProfile",Object(r.fromJS)({status:n.REDUX_STATE.FULFILLED,payload:t.payload}));case c:return e.set("loadProfile",Object(r.fromJS)({status:n.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case u:return e.setIn(["updateProfile","status"],n.REDUX_STATE.PENDING);case d:return e.set("updateProfile",Object(r.fromJS)({status:n.REDUX_STATE.FULFILLED,payload:t.payload}));case f:return e.set("updateProfile",Object(r.fromJS)({status:n.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case p:return e.setIn(["changePassword","status"],n.REDUX_STATE.PENDING);case m:return e.set("changePassword",Object(r.fromJS)({status:n.REDUX_STATE.FULFILLED,payload:t.payload}));case h:return e.set("changePassword",Object(r.fromJS)({status:n.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case E:return e.setIn(["saveProfilePhoto","status"],n.REDUX_STATE.PENDING);case y:return e.set("saveProfilePhoto",Object(r.fromJS)({status:n.REDUX_STATE.FULFILLED,payload:t.payload}));case P:return e.set("saveProfilePhoto",Object(r.fromJS)({status:n.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case O:return e.setIn(["deleteProfilePhoto","status"],n.REDUX_STATE.PENDING);case w:return e.set("deleteProfilePhoto",Object(r.fromJS)({status:n.REDUX_STATE.FULFILLED,payload:t.payload}));case S:return e.set("deleteProfilePhoto",Object(r.fromJS)({status:n.REDUX_STATE.REJECTED,payload:{},error:t.payload}));case b:return e.setIn(["verifyEmailChange","status"],n.REDUX_STATE.PENDING);case v:return e.setIn(["verifyEmailChange","status"],n.REDUX_STATE.FULFILLED);case g:return e.setIn(["verifyEmailChange","status"],n.REDUX_STATE.REJECTED);default:return e}}function N(){return function(e){return e({type:l}),o.a.perform("/api/v1.0/profile",{method:"GET"}).then((function(t){return e({type:s,payload:t})}),(function(t){return e({type:c,payload:t})}))}}function F(e){return function(t){return t({type:u}),function(e){return o.a.perform("/api/v1.0/profile",{method:"PATCH",body:JSON.stringify(e)})}(e).then((function(e){return t({type:d,payload:e})}),(function(e){return t({type:f,payload:e})}))}}function R(e){return function(t){return t({type:p}),function(e){return o.a.perform("/api/v1.0/profile/change-password",{method:"POST",body:JSON.stringify({currentPassword:e.currentPassword,newPassword:e.newPassword,confirmPassword:e.confirmPassword})})}(e).then((function(e){return t({type:m,payload:e})}),(function(e){return t({type:h,payload:e})}))}}function x(e){return function(t){return t({type:b}),(a=e,o.a.perform("/api/v1.0/profile/verify-email-change",{method:"POST",body:JSON.stringify({code:a.code,userId:a.userId,workspaceURL:a.workspaceURL})})).then((function(e){return t({type:v,payload:e})}),(function(e){return t({type:g,payload:e})}));var a}}function D(e){return function(t){return t({type:E}),function(e){return o.a.perform("/api/v1.0/profile/generate-signed-profile-photo-url",{method:"GET",headers:{contentType:e.contentType}})}(e).then((function(e){return e}),(function(e){return t({type:P,payload:e})}))}}function T(e){return function(t){return t({type:E}),function(e){return o.a.simple(e.signedURL,{method:"PUT",headers:{"Content-Type":e.contentType},body:e.data})}(e).then((function(e){return e}),(function(e){return t({type:P,payload:e})}))}}function k(e){return function(t){return t({type:E}),function(e){return o.a.perform("/api/v1.0/profile/save-profile-photo",{method:"POST",body:JSON.stringify({key:e.key})})}(e).then((function(e){return t({type:y,payload:e})}),(function(e){return t({type:P,payload:e})}))}}function C(){return function(e){return e({type:O}),o.a.perform("/api/v1.0/profile/delete-profile-photo",{method:"PATCH"}).then((function(t){return e({type:w,payload:t})}),(function(t){return e({type:S,payload:t})}))}}},579:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var r=a(18),n=a(37),o=a(561),i=a.n(o),l=a(0),s=a.n(l),c=a(1),u=a.n(c),d=a(562),f={bsPrefix:u.a.string,fluid:u.a.bool,rounded:u.a.bool,roundedCircle:u.a.bool,thumbnail:u.a.bool},p=s.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,l=e.fluid,c=e.rounded,u=e.roundedCircle,f=e.thumbnail,p=Object(n.a)(e,["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"]);a=Object(d.a)(a,"img");var m=i()(l&&a+"-fluid",c&&"rounded",u&&"rounded-circle",f&&a+"-thumbnail");return s.a.createElement("img",Object(r.a)({ref:t},p,{className:i()(o,m)}))}));p.displayName="Image",p.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1}},584:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(6),i=a.n(o),l=a(9),s=a.n(l),c=a(8),u=a.n(c),d=a(4),f=a.n(d),p=a(0),m=a.n(p),h=a(1),b=a.n(h),v=a(572),g=a.n(v),E=a(7);var y=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(){return n()(this,a),t.apply(this,arguments)}return i()(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.children,r=e.actionButtonLabel,n=e.actionButtonFunc,o=e.actionDangerous,i=e.actionDisabled,l=e.actionLinkLabel,s=e.actionLinkFunc,c=e.actionLinkHidden,u=e.actionLinkDisabled,d=e.closeModal,f=e.closeModalDisabled;return m.a.createElement("div",{className:"modal",tabIndex:"-1"},m.a.createElement(g.a,{contentLabel:t,className:"modal-dialog modal-dialog-centered",isOpen:!0,ariaHideApp:!1,onRequestClose:d},m.a.createElement("div",{className:"modal-content rounded-0",role:"document"},m.a.createElement("div",{className:"modal-header"},m.a.createElement("h5",{className:"modal-title"},t),m.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:d},m.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),m.a.createElement("div",{className:"modal-body"},a),m.a.createElement("div",{className:"modal-footer"},l&&!c&&m.a.createElement("button",{type:"button",className:"btn btn-link btn-sm mr-auto",onClick:s,disabled:u},l),r&&m.a.createElement("button",{type:"button",className:"btn ".concat(1==o?"btn-danger":"btn-primary"," btn-sm"),onClick:n,disabled:i},r),d&&m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:d,"data-dismiss":"modal",disabled:f},Object(E.f)("action.close"))))))}}]),a}(p.Component);y.propTypes={title:b.a.string,children:b.a.oneOfType([b.a.string,b.a.object]),actionButtonLabel:b.a.string,actionButtonFunc:b.a.func,actionDangerous:b.a.bool,actionDisabled:b.a.bool,actionLinkLabel:b.a.string,actionLinkFunc:b.a.func,actionLinkHidden:b.a.bool,actionLinkDisabled:b.a.bool,closeModal:b.a.func,closeModalDisabled:b.a.bool},t.a=y},585:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},619:function(e,t,a){"use strict";var r=a(33),n=a.n(r),o=a(0),i=a.n(o);t.a=function(e){return i.a.createElement("svg",n()({},e,{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}),i.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i.a.createElement("polyline",{points:"17 8 12 3 7 8"}),i.a.createElement("line",{x1:"12",x2:"12",y1:"3",y2:"15"}))}},649:function(e,t,a){"use strict";var r=a(33),n=a.n(r),o=a(5),i=a.n(o),l=a(6),s=a.n(l),c=a(20),u=a.n(c),d=a(9),f=a.n(d),p=a(8),m=a.n(p),h=a(4),b=a.n(h),v=a(0),g=a.n(v),E=a(1),y=a.n(E),P=a(650),O=a.n(P),w=a(7),S=a(619);var j=function(e){f()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=b()(e);if(t){var n=b()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return m()(this,a)}}(a);function a(e){var r;return i()(this,a),(r=t.call(this,e)).state={files:null,errors:null},r.fileUploadSuccess=r.fileUploadSuccess.bind(u()(r)),r.fileUploadError=r.fileUploadError.bind(u()(r)),r.removeFile=r.removeFile.bind(u()(r)),r.removeError=r.removeError.bind(u()(r)),r.showErrorMessage=r.showErrorMessage.bind(u()(r)),r}return s()(a,[{key:"fileUploadSuccess",value:function(e){this.props.disabled||this.setState({files:e}),this.props.fileUploadChange&&this.props.fileUploadChange(e,this.state.errors)}},{key:"fileUploadError",value:function(e){this.props.disabled||this.setState({errors:e}),this.props.fileUploadChange&&this.props.fileUploadChange(this.state.files,e)}},{key:"removeFile",value:function(e){if(e.preventDefault(),!this.props.disabled){var t=this.state.files.filter((function(t){return t.id!==e.target.value}));this.setState({files:t}),this.props.fileUploadChange&&this.props.fileUploadChange(t,this.state.errors)}}},{key:"removeError",value:function(e){if(e.preventDefault(),!this.props.disabled){var t=this.state.errors.filter((function(t){return t.id!==e.target.value}));this.setState({errors:t}),this.props.fileUploadChange&&this.props.fileUploadChange(this.state.files,t)}}},{key:"showErrorMessage",value:function(e){var t=null;switch(e){case"unsupportedFileType":t=Object(w.f)("inputs.fileUploader.unsupportedFileType");break;case"maxSizeExceeded":t=Object(w.f)("inputs.fileUploader.maxSizeExceeded",{maxFileSize:this.props.maximumFileSize});break;case"multipleMaxCountExceeded":t=Object(w.f)("inputs.fileUploader.multipleMaxCountExceeded",{maximumFiles:this.props.multipleMaximumCount});break;case"multipleMaxSizeExceeded":t=Object(w.f)("inputs.fileUploader.multipleMaxSizeExceeded",{maxFileSize:this.props.multipleMaximumFileSize});break;case"multipleNotAllowed":t=Object(w.f)("inputs.fileUploader.multipleNotAllowed",{count:1});break;default:t=Object(w.f)("label.error")}return t}},{key:"render",value:function(){var e=this,t=this.props,a=t.acceptedFormats,r=t.multiple,o=t.imagePreview,i=t.maximumFileSize,l=t.multipleMaximumFileSize,s=t.multipleMaximumCount,c=t.disabled,u=this.state,d=u.files,f=u.errors,p=o&&d&&d.length>0&&d[0].src&&d[0].src.base64;return g.a.createElement(O.a,{multiple:r,maxSize:i,convertToBase64:o,multipleMaxSize:l,multipleMaxCount:s,accept:a,onSuccess:this.fileUploadSuccess,onError:this.fileUploadError},(function(t){var a=t.browseFiles,i=t.getDropZoneProps;return g.a.createElement("div",{id:"file-input"},g.a.createElement("div",n()({className:"drop-zone"},i()),g.a.createElement("div",{className:"drop-window d-flex p-2 bg-light border light"},g.a.createElement("div",{className:"no-files w-100 text-center"},p&&g.a.createElement("div",{className:"w-100 text-center"},g.a.createElement("img",{src:d[0].src.base64,className:"img-fluid img-thumbnail mb-3",style:{maxHeight:"30vh"}})),!p&&g.a.createElement(v.Fragment,null,g.a.createElement(S.a,{className:"text-primary my-2",width:"1.5em",height:"1.5em"}),g.a.createElement("div",{className:"my-2"},r?o?Object(w.f)("inputs.fileUploader.dragDropImage_plural"):Object(w.f)("inputs.fileUploader.dragDropFile_plural"):o?Object(w.f)("inputs.fileUploader.dragDropImage"):Object(w.f)("inputs.fileUploader.dragDropFile"))),g.a.createElement("button",{className:"btn btn-outline-primary btn-sm my-2",onClick:a,disabled:c},Object(w.f)("label.browse")))),g.a.createElement("div",{className:"file-list"},d&&d.map((function(t){return g.a.createElement("div",{key:t.name,className:"file alert border light rounded-0 my-2 p-2"},t.name,g.a.createElement("button",{type:"button",className:"close",value:t.id,onClick:e.removeFile,"data-dismiss":"alert","aria-label":Object(w.f)("action.close")},"Ã—"))})),f&&f.map((function(t){return g.a.createElement("div",{key:t.id,className:"error alert border-danger rounded-0 my-2 p-2"},g.a.createElement("button",{type:"button",className:"close",value:t.id,onClick:e.removeError,"data-dismiss":"alert","aria-label":Object(w.f)("action.close")},"Ã—"),t.file&&t.file.name,t.file&&g.a.createElement("br",null),e.showErrorMessage(t.type))})))))}))}}]),a}(v.Component);j.propTypes={acceptedFormats:y.a.array.isRequired,multiple:y.a.bool.isRequired,imagePreview:y.a.bool,maximumFileSize:y.a.string,multipleMaximumFileSize:y.a.string,multipleMaximumCount:y.a.number,fileUploadChange:y.a.func,disabled:y.a.bool},t.a=j},650:function(e,t,a){"use strict";var r=a(585);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(651)).default;t.default=n},651:function(e,t,a){"use strict";var r=a(652),n=a(585);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(71)),i=n(a(67)),l=n(a(162)),s=n(a(93)),c=n(a(5)),u=n(a(6)),d=n(a(8)),f=n(a(4)),p=n(a(20)),m=n(a(9)),h=n(a(32)),b=r(a(0)),v=n(a(653)),g=n(a(654)),E=n(a(655));function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){(0,h.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=function(e){function t(){var e;return(0,c.default)(this,t),e=(0,d.default)(this,(0,f.default)(t).call(this)),(0,h.default)((0,p.default)(e),"input",void 0),(0,h.default)((0,p.default)(e),"browseFilesPassedParams",void 0),(0,h.default)((0,p.default)(e),"id",void 0),(0,h.default)((0,p.default)(e),"validateFiles",(function(t){var a=e.props,r=a.multiple,n=a.multipleMaxSize,o=a.multipleMaxCount,i=a.accept,l=a.maxSize,s=[],c=0;if(!r&&t.length>1)return s.push({id:(0,E.default)(),type:"multipleNotAllowed"}),s;for(var u=0;u<t.length;u++){var d=t[u];Array.isArray(i)&&i.length&&-1===i.indexOf(d.type)?s.push({id:(0,E.default)(),index:u,file:d,type:"unsupportedFileType"}):l&&d.size>(0,v.default)(l)&&s.push({id:(0,E.default)(),index:u,file:d,type:"maxSizeExceeded"}),r&&(c+=d.size)}return r&&(n&&c>(0,v.default)(n)&&s.push({id:(0,E.default)(),type:"multipleMaxSizeExceeded",multipleFileSize:c,multipleMaxSize:(0,v.default)(n)}),o&&t.length>o&&s.push({id:(0,E.default)(),type:"multipleMaxCountExceeded",multipleCount:t.length,multipleMaxCount:o})),s})),(0,h.default)((0,p.default)(e),"processSelectedFiles",function(){var t=(0,s.default)(i.default.mark((function t(a){var r,n,o,s,c,u,d,f,m,h,b;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==a.length){t.next=2;break}return t.abrupt("return");case 2:if(r=e.props,n=r.convertToBase64,o=r.onSuccess,s=r.onError,c=(0,p.default)(e),u=c.browseFilesPassedParams,d={onSuccess:o,onError:s},u&&u.onSuccess&&(d.onSuccess=u.onSuccess),u&&u.onError&&(d.onError=u.onError),f=(0,l.default)(a).map((function(e){return{id:(0,E.default)(),name:e.name,type:e.type,size:e.size,src:{file:e,base64:null}}})),!(m=e.validateFiles(f)).length){t.next=13;break}d.onError&&d.onError(m,f),t.next=24;break;case 13:if(!n){t.next=23;break}h=0;case 15:if(!(h<f.length)){t.next=23;break}return b=f[h].src.file,t.next=19,(0,g.default)(b);case 19:f[h].src.base64=t.sent;case 20:h++,t.next=15;break;case 23:d.onSuccess&&d.onSuccess(f);case 24:e.input.value="",e.browseFilesPassedParams=null;case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,h.default)((0,p.default)(e),"onDropFilesHandler",function(){var t=(0,s.default)(i.default.mark((function t(a){var r,n,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.e,n=a.onSuccess,o=a.onError,e.browseFilesPassedParams={onSuccess:n,onError:o},t.t0=r.dataTransfer&&r.dataTransfer.files,!t.t0){t.next=6;break}return t.next=6,e.processSelectedFiles(r.dataTransfer.files);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,h.default)((0,p.default)(e),"browseFilesHandler",(function(t){var a=t.onSuccess,r=t.onError;e.browseFilesPassedParams={onSuccess:a,onError:r},e.input&&e.input.click()})),e.input=null,e.browseFilesPassedParams=null,e.id=(0,E.default)(),e}return(0,m.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.multiple,r=t.accept,n=t.id;return b.createElement(b.Fragment,null,this.props.children({getLabelProps:function(t){return P({},t,{htmlFor:n||e.id})},validateFiles:this.validateFiles,browseFiles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.onSuccess,r=t.onError;e.browseFilesHandler({onSuccess:a,onError:r})},getDropZoneProps:function(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.onSuccess,n=a.onError,l=a.onDragOver,c=a.onDrop,u=(0,o.default)(a,["onSuccess","onError","onDragOver","onDrop"]);return P({},u,{onDragOver:function(e){e.preventDefault(),"function"==typeof l&&l()},onDrop:(t=(0,s.default)(i.default.mark((function t(a){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),"function"==typeof c&&c(),e.onDropFilesHandler({e:a,onSuccess:r,onError:n});case 3:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})})}}),b.createElement("input",{id:n||this.id,ref:function(t){t&&(e.input=t)},accept:r,style:{display:"none"},type:"file",multiple:a,onChange:function(t){return e.processSelectedFiles(t.target.files)}}))}}]),t}(b.Component);(0,h.default)(O,"defaultProps",{accept:[],multiple:!1,maxSize:"2mb",multipleMaxSize:"10mb",multipleMaxCount:null,convertToBase64:!1});var w=O;t.default=w},652:function(e,t,a){var r=a(40).default;function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,t&&t.set(e,a),a},e.exports.default=e.exports,e.exports.__esModule=!0},653:function(e,t,a){"use strict";e.exports=function(e,t){return"string"==typeof e?s(e):"number"==typeof e?l(e,t):null},e.exports.format=l,e.exports.parse=s;var r=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function l(e,t){if(!Number.isFinite(e))return null;var a=Math.abs(e),i=t&&t.thousandsSeparator||"",l=t&&t.unitSeparator||"",s=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,c=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&o[u.toLowerCase()]||(u=a>=o.pb?"PB":a>=o.tb?"TB":a>=o.gb?"GB":a>=o.mb?"MB":a>=o.kb?"KB":"B");var d=(e/o[u.toLowerCase()]).toFixed(s);return c||(d=d.replace(n,"$1")),i&&(d=d.replace(r,i)),d+l+u}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,a=i.exec(e),r="b";return a?(t=parseFloat(a[1]),r=a[4].toLowerCase()):(t=parseInt(e,10),r="b"),Math.floor(o[r]*t)}},654:function(e,t,a){"use strict";(function(e){var r=a(585);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(67)),o=r(a(93)),i=function(){var t=(0,o.default)(n.default.mark((function t(a){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new e((function(e){var t=new window.FileReader;t.onload=function(t){e(t.target.result)},t.readAsDataURL(a)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.default=i}).call(this,a(38))},655:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(){return"_"+Math.random().toString(36).substr(2,9)}},656:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(6),i=a.n(o),l=a(9),s=a.n(l),c=a(8),u=a.n(c),d=a(4),f=a.n(d),p=a(0),m=a.n(p),h=a(1),b=a.n(h);var v=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(){return n()(this,a),t.apply(this,arguments)}return i()(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,r=e.onChange,n=e.label,o=e.rows,i=e.id,l=e.ariaLabel,s=e.smallText,c=e.resize,u=e.placeholder,d=e.required,f=e.disabled,p=e.error;return m.a.createElement("div",{className:"form-group"},n&&m.a.createElement("label",{htmlFor:i},n," ",d&&"*"),m.a.createElement("div",{className:"input-group"},m.a.createElement("textarea",{name:t,value:a,style:{resize:c?"vertical":"none"},rows:o,className:"form-control rounded-0",id:i,"aria-describedby":l,onChange:r,placeholder:u,disabled:f}),p&&p[t]&&m.a.createElement("div",{className:"d-block invalid-feedback"},p[t][0]),s&&m.a.createElement("div",{className:"w-100 text-muted"},m.a.createElement("small",null,s))))}}]),a}(m.a.Component);v.propTypes={name:b.a.string,value:b.a.string,onChange:b.a.func,label:b.a.string,id:b.a.string,ariaLabel:b.a.string,rows:b.a.number,resize:b.a.bool,placeholder:b.a.string,smallText:b.a.string,required:b.a.bool,disabled:b.a.bool,error:b.a.object},t.a=v},937:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a.n(r),o=a(6),i=a.n(o),l=a(9),s=a.n(l),c=a(8),u=a.n(c),d=a(4),f=a.n(d),p=a(0),m=a.n(p),h=a(1),b=a.n(h),v=a(101),g=a(10),E=a(7),y=a(161),P=a(571),O=a(25),w=a(24),S=a(118),j=a(619);var L=function(e){s()(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(r);function r(){return n()(this,r),t.apply(this,arguments)}return i()(r,[{key:"render",value:function(){return m.a.createElement("div",{className:"avatar large large mb-3 view overlay rounded-circle d-inline-block"},m.a.createElement("div",{"data-tip":Object(E.f)("components.profile.changeProfilePhoto"),"data-for":"avatar"},m.a.createElement(w.b,{to:{pathname:"/profile/change-profile-photo"},className:"d-block"},m.a.createElement("div",null,m.a.createElement("img",{className:"rounded-circle img-thumbnail",src:this.props.photo||a(254)}),m.a.createElement("div",{className:"image-overlay rounded-circle img-thumbnail"},m.a.createElement("div",{className:"icon"},m.a.createElement(j.a,{width:"1.5em",height:"1.5em",color:"#FFF"}))))),m.a.createElement(S.a,{id:"avatar",place:"right",effect:"solid"})))}}]),r}(p.Component);L.propTypes={photo:b.a.string};var N=L,F=a(20),R=a.n(F),x=a(39),D=a(54),T=a(2),k=a(11),C=a(23),U=a(584),_=a(649),A=a(563);var I=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(e){var r;return n()(this,a),(r=t.call(this,e)).state={files:null,errors:null,loading:!1,deleting:!1},r.fileUploaded=r.fileUploaded.bind(R()(r)),r.saveImage=r.saveImage.bind(R()(r)),r.closeModal=r.closeModal.bind(R()(r)),r.deleteProfilePhoto=r.deleteProfilePhoto.bind(R()(r)),r}return i()(a,[{key:"fileUploaded",value:function(e,t){this.setState({files:e,errors:t,serverError:null})}},{key:"isSaveImagePossible",value:function(e,t){return!(!Array.isArray(e)||Array.isArray(e)&&1!==e.length||Array.isArray(t)&&t.length>0)}},{key:"saveImage",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0,serverError:null});var a={files:this.state.files,errors:this.state.errors};0==this.isSaveImagePossible(a.files,a.errors)&&this.setState({loading:!1});var r=a.files[0].src.file;r instanceof File||this.setState({loading:!1}),this.props.generateSignedURL({contentType:r.type}).then((function(e){if(e.type===P.e)t.setState({loading:!1,serverError:e.payload});else{var a=e.key;t.props.uploadToSignedURL({signedURL:decodeURI(e.signedURL),contentType:r.type,data:r}).then((function(e){e.type===P.e?t.setState({loading:!1,serverError:e}):t.props.saveProfilePhoto({key:a}).then((function(e){e.type===P.e?t.setState({loading:!1,serverError:e}):t.props.loadUser().then((function(e){e.type!==C.c?(t.setState({loading:!1}),t.closeModal()):window.location.reload}))}))}))}}))}},{key:"deleteProfilePhoto",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0,deleting:!0}),this.props.deleteExistingProfilePhoto().then((function(e){e.type===P.b?t.setState({loading:!1,deleting:!1,serverError:e}):t.props.loadUser().then((function(e){e.type!==C.c?(t.setState({loading:!1,deleting:!1}),t.closeModal()):window.location.reload}))}))}},{key:"closeModal",value:function(){this.state.loading||this.props.history.push("/profile")}},{key:"render",value:function(){var e=this.props.user,t=this.state,a=t.files,r=t.errors,n=t.loading,o=t.deleting,i=t.serverError,l=!this.isSaveImagePossible(a,r),s=!Object(k.f)(e.get("profilePhoto"));return m.a.createElement(U.a,{title:Object(E.f)("components.profile.changeProfilePhoto"),actionButtonLabel:n&&!o?Object(E.f)("label.saving"):Object(E.f)("components.profile.saveImage"),actionButtonFunc:this.saveImage,actionDisabled:l||n,actionLinkLabel:o?Object(E.f)("label.deleting"):Object(E.f)("components.profile.removeExistingProfilePhoto"),actionLinkFunc:this.deleteProfilePhoto,actionLinkHidden:s,actionLinkDisabled:n,closeModal:this.closeModal,closeModalDisabled:n},m.a.createElement(p.Fragment,null,m.a.createElement(A.a,{error:i}),m.a.createElement(_.a,{acceptedFormats:["image/jpg","image/jpeg","image/png"],multiple:!1,imagePreview:!0,fileUploadChange:this.fileUploaded,maximumFileSize:T.MAX_FILE_UPLOAD_SIZE.CHANGE_AVATAR,disabled:n})))}}]),a}(p.Component);I.propTypes={history:b.a.object,user:b.a.object,loadUser:b.a.func,generateSignedURL:b.a.func,uploadToSignedURL:b.a.func,saveProfilePhoto:b.a.func,deleteExistingProfilePhoto:b.a.func,onClick:b.a.func,disabled:b.a.bool};var M=Object(O.a)(Object(g.g)(Object(D.b)(null,(function(e){return{loadUser:Object(x.b)(C.m,e),generateSignedURL:Object(x.b)(P.l,e),uploadToSignedURL:Object(x.b)(P.p,e),saveProfilePhoto:Object(x.b)(P.n,e),deleteExistingProfilePhoto:Object(x.b)(P.k,e)}}))(I))),B=a(32),z=a.n(B),J=a(565);function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"post",t="patch"!=e;return{firstName:{presence:t,noEmptyValue:!0,length:{maximum:255}},lastName:{presence:t,noEmptyValue:!0,length:{maximum:255}},emailAddress:{email:!0,presence:t,noEmptyValue:!0,length:{maximum:255}},bio:{presence:t,noEmptyValue:!1,length:{maximum:255}},location:{presence:t,noEmptyValue:!1,length:{maximum:255}},website:{presence:t,noEmptyValue:!1,length:{maximum:255}}}}var H=a(569),X=a(656),q=a(568);var V=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(e){var r;return n()(this,a),(r=t.call(this,e)).state={firstName:"",lastName:"",emailAddress:"",bio:"",location:"",website:"",loading:!1,validationErrors:null,serverError:null},r.updateProfile=r.updateProfile.bind(R()(r)),r.setEditableFields=r.setEditableFields.bind(R()(r)),r.changeField=r.changeField.bind(R()(r)),r}return i()(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&this.setState({loading:!0,validationErrors:null,serverError:null}),this.props.loadProfile().then((function(t){t.type!==P.c?e._isMounted&&e.setEditableFields(t.payload.user):e._isMounted&&e.setState({serverError:t.payload})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"setEditableFields",value:function(e){this.setState({firstName:e.firstName,lastName:e.lastName,emailAddress:e.emailAddress,bio:e.bio||"",location:e.location||"",website:e.website||"",loading:!1})}},{key:"changeField",value:function(e){this.setState(z()({},e.target.name,e.target.value))}},{key:"updateProfile",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0,validationErrors:null,serverError:null});var a={firstName:this.state.firstName,lastName:this.state.lastName,emailAddress:this.state.emailAddress,bio:this.state.bio,location:this.state.location,website:this.state.website},r=Object(J.a)(a,G());if(null==r){var n=Object(k.e)(a,this.props.userProfile);null!=Object(J.a)(n,G("patch"))?this.setState({loading:!1,validationErrors:r}):this.props.updateProfile(n).then((function(e){e.type===P.g?t.setState({loading:!1,serverError:e.payload}):t.props.loadUser().then((function(e){if(e.type===C.c)return t.setState({loading:!1}),void window.location.reload;t.setState({emailAddress:t.props.user.get("emailAddress"),loading:!1}),t.props.history.push("/profile?updateprofile=success")}))}))}else this.setState({loading:!1,validationErrors:r})}},{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,r=e.emailAddress,n=e.bio,o=e.location,i=e.website,l=e.loading,s=e.validationErrors,c=e.serverError,u=this.props,d=u.loadProfileStatus,f=u.updateProfileStatus,p=u.user,h=f===T.REDUX_STATE.FULFILLED&&!c&&!s,b=d===T.REDUX_STATE.FULFILLED&&p.get("emailAddress")!==r;return m.a.createElement("div",null,h&&m.a.createElement(q.a,{path:{updateprofile:"success"},message:Object(E.f)("success.updatePersonalProfile")}),m.a.createElement(A.a,{error:c}),m.a.createElement("div",{className:"form-row"},m.a.createElement("div",{className:"col"},m.a.createElement(H.a,{label:Object(E.f)("label.firstName"),name:"firstName",id:"firstName-input",value:t,type:"textField",required:!0,ariaLabel:"firstName",onChange:this.changeField,disabled:l,error:s})),m.a.createElement("div",{className:"col"},m.a.createElement(H.a,{label:Object(E.f)("label.lastName"),name:"lastName",id:"lastName-input",value:a,type:"textField",required:!0,ariaLabel:"lastName",onChange:this.changeField,disabled:l,error:s}))),m.a.createElement(H.a,{label:Object(E.f)("label.emailAddress"),name:"emailAddress",id:"email-input",value:r,type:"textField",required:!0,ariaLabel:"emailAddress",onChange:this.changeField,disabled:l,error:s}),b&&m.a.createElement("div",{className:"alert alert-warning rounded-0"},Object(E.f)("components.profile.changeEmailWarning")),m.a.createElement(X.a,{label:Object(E.f)("label.aboutMe"),name:"bio",id:"bio-input",value:n,type:"textField",ariaLabel:"bio",rows:2,onChange:this.changeField,disabled:l,error:s}),m.a.createElement("div",{className:"form-row"},m.a.createElement("div",{className:"col"},m.a.createElement(H.a,{label:Object(E.f)("label.location"),name:"location",id:"location-input",value:o,type:"textField",ariaLabel:"location",onChange:this.changeField,disabled:l,error:s})),m.a.createElement("div",{className:"col"},m.a.createElement(H.a,{label:Object(E.f)("label.website"),name:"website",id:"website-input",value:i,type:"textField",ariaLabel:"website",onChange:this.changeField,disabled:l,error:s}))),m.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm btn-block mt-4 p-3",onClick:this.updateProfile,disabled:l},Object(E.f)("components.profile.updateProfile")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.loadProfileStatus===t.loadProfileStatus?null:e.loadProfileStatus===T.REDUX_STATE.FULFILLED?{loadProfileStatus:T.REDUX_STATE.FULFILLED}:null}}]),a}(p.Component);V.propTypes={history:b.a.object,user:b.a.object,userProfile:b.a.object,loadUser:b.a.func,loadProfile:b.a.func,loadProfileStatus:b.a.string,updateProfile:b.a.func,updateProfileStatus:b.a.string};var W=Object(O.a)(Object(g.g)(Object(D.b)((function(e){return{userProfile:e.getIn([P.d,"loadProfile","payload","user"]),loadProfileStatus:e.getIn([P.d,"loadProfile","status"]),updateProfileStatus:e.getIn([P.d,"updateProfile","status"])}}),(function(e){return{loadUser:Object(x.b)(C.m,e),loadProfile:Object(x.b)(P.m,e),updateProfile:Object(x.b)(P.o,e)}}))(V))),Y=a(68);var Z=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(e){var r;return n()(this,a),(r=t.call(this,e)).state={language:"en",loading:!1,validationErrors:null,serverError:null},r.changeLanguage=r.changeLanguage.bind(R()(r)),r.selectItem=r.selectItem.bind(R()(r)),r}return i()(a,[{key:"componentDidMount",value:function(){if(this.props.user){var e=this.props.user.get("language");this.setState({language:e})}}},{key:"selectItem",value:function(e){this.setState(z()({},e.target.name,e.target.value))}},{key:"changeLanguage",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0,validationErrors:null,serverError:null});var a={language:this.state.language},r=Object(J.a)(a,{language:{presence:{allowEmpty:!1},inclusion:{within:T.RESTRICTED_LANGUAGES}}});null!=r?this.setState({loading:!1,validationErrors:r}):this.props.saveUserLanguage(a).then((function(e){e.type===Y.a?t.setState({loading:!1,serverError:e.payload}):t.props.loadUser().then((function(e){if(e.type===C.c)return t.setState({loading:!1}),void window.location.reload;var a=e.payload.language;Object(k.f)(a)&&Object(E.a)()!==a&&t.props.changeActiveLanguage(a),t.setState({loading:!1}),t.props.history.push("/profile?changelanguage=success")}))}))}},{key:"render",value:function(){var e=this.state,t=e.language,a=e.loading,r=e.validationErrors,n=e.serverError,o=this.props,i=o.loadProfileStatus,l=o.changeLanguageStatus,s=i!==T.REDUX_STATE.FULFILLED||a,c=l===T.REDUX_STATE.FULFILLED&&!n&&!r;return m.a.createElement("div",null,c&&m.a.createElement(q.a,{path:{changelanguage:"success"},message:Object(E.f)("success.changeLanguage")}),m.a.createElement(A.a,{error:n}),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"changeLanguageControl"},Object(E.f)("components.profile.activeLanguage")),m.a.createElement("select",{id:"changeLanguageControl",className:"form-control",style:{border:"0px",outline:"1px solid #CCC",outlineOffset:"-1px"},name:"language",value:t,onChange:this.selectItem,disabled:s},m.a.createElement("option",{value:T.LANGUAGE_CODES[1]},Object(E.f)("languages.en")),m.a.createElement("option",{value:T.LANGUAGE_CODES[2]},Object(E.f)("languages.it")))),m.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm btn-block mt-4 p-3",onClick:this.changeLanguage,disabled:s},Object(E.f)("components.profile.changeLanguage")))}}]),a}(p.Component);Z.propTypes={history:b.a.object,user:b.a.object,loadUser:b.a.func,loadProfileStatus:b.a.string,changeActiveLanguage:b.a.func,saveUserLanguage:b.a.func,changeLanguageStatus:b.a.string};var $=Object(O.a)(Object(g.g)(Object(D.b)((function(e){return{changeLanguageStatus:e.getIn([Y.b,"changeLanguage","status"]),loadProfileStatus:e.getIn([P.d,"loadProfile","status"])}}),(function(e){return{loadUser:Object(x.b)(C.m,e),saveUserLanguage:Object(x.b)(Y.e,e),changeActiveLanguage:Object(x.b)(Y.c,e)}}))(Z)));var K=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(e){var r;return n()(this,a),(r=t.call(this,e)).state={currentPassword:"",newPassword:"",confirmPassword:"",loading:!1,validationErrors:null,serverError:null},r.changePassword=r.changePassword.bind(R()(r)),r.changeField=r.changeField.bind(R()(r)),r}return i()(a,[{key:"changeField",value:function(e){this.setState(z()({},e.target.name,e.target.value))}},{key:"changePassword",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0,validationErrors:null,serverError:null});var a={currentPassword:this.state.currentPassword,newPassword:this.state.newPassword,confirmPassword:this.state.confirmPassword},r=Object(J.a)(a,{currentPassword:{presence:{allowEmpty:!1},length:{minimum:6,maximum:66,message:Object(E.f)("validation.validators.invalidPasswordLength")}},newPassword:{presence:{allowEmpty:!1},length:{minimum:6,maximum:66,message:Object(E.f)("validation.validators.invalidPasswordLength")}},confirmPassword:{presence:{allowEmpty:!1},length:{minimum:6,maximum:66,message:Object(E.f)("validation.validators.invalidPasswordLength")},equality:{attribute:"newPassword",comparator:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},message:Object(E.f)("validation.validators.unmatchedPasswords")}}});null!=r?this.setState({loading:!1,validationErrors:r}):this.props.changePassword(a).then((function(e){e.type===P.a?t.setState({loading:!1,serverError:e.payload}):(t.setState({currentPassword:"",newPassword:"",confirmPassword:"",loading:!1}),t.props.history.push("/profile?changepassword=success"))}))}},{key:"render",value:function(){var e=this.state,t=e.currentPassword,a=e.newPassword,r=e.confirmPassword,n=e.loading,o=e.validationErrors,i=e.serverError,l=this.props,s=l.loadProfileStatus,c=l.changePasswordStatus,u=s!==T.REDUX_STATE.FULFILLED||n,d=c===T.REDUX_STATE.FULFILLED&&!i&&!o;return m.a.createElement("div",null,d&&m.a.createElement(q.a,{path:{changepassword:"success"},message:Object(E.f)("success.changePassword")}),m.a.createElement(A.a,{error:i}),m.a.createElement(H.a,{label:Object(E.f)("components.profile.currentPassword"),name:"currentPassword",id:"currentPassword",value:t,type:"password",ariaLabel:Object(E.f)("components.profile.currentPassword"),onChange:this.changeField,required:!0,disabled:u,error:o}),m.a.createElement(H.a,{label:Object(E.f)("components.profile.newPassword"),name:"newPassword",id:"newPassword",value:a,type:"password",ariaLabel:Object(E.f)("components.profile.newPassword"),onChange:this.changeField,required:!0,disabled:u,error:o}),m.a.createElement(H.a,{label:Object(E.f)("components.profile.confirmNewPassword"),name:"confirmPassword",id:"confirmPassword",value:r,type:"password",ariaLabel:Object(E.f)("components.profile.confirmNewPassword"),onChange:this.changeField,required:!0,disabled:u,error:o}),Object(E.f)("components.profile.passwordLengthRequirement"),m.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm btn-block mt-4 p-3",onClick:this.changePassword,disabled:u},Object(E.f)("components.profile.changePassword")))}}]),a}(p.Component);K.propTypes={history:b.a.object,user:b.a.object,loadProfileStatus:b.a.string,changePassword:b.a.func,changePasswordStatus:b.a.string};var Q=Object(O.a)(Object(g.g)(Object(D.b)((function(e){return{changePasswordStatus:e.getIn([P.d,"changePassword","status"]),loadProfileStatus:e.getIn([P.d,"loadProfile","status"])}}),(function(e){return{changePassword:Object(x.b)(P.i,e)}}))(K)));var ee=function(e){s()(a,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}(a);function a(){return n()(this,a),t.apply(this,arguments)}return i()(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.history;return m.a.createElement(p.Fragment,null,m.a.createElement(v.Helmet,{title:Object(E.f)("headers.profile.title"),meta:[{name:"description",content:Object(E.f)("headers.profile.description")}]}),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"px-md-3 py-3 pt-5 pb-md-4 mx-auto"},m.a.createElement("div",{className:"mb-3"},m.a.createElement("div",{className:"col-lg-7 mx-auto"},m.a.createElement("div",{className:"text-center"},m.a.createElement(N,{photo:t.get("profilePhoto")}),m.a.createElement("h3",{className:"text-capitalize"},t.get("firstName")," ",t.get("lastName"))),m.a.createElement("div",{className:"mt-3 mb-5"},m.a.createElement("h5",null,Object(E.f)("label.profile")),m.a.createElement("div",{className:"card rounded-0 mb-3 text-left"},m.a.createElement("div",{className:"card-body"},m.a.createElement(W,{location:a.location})))),m.a.createElement("div",{className:"my-5"},m.a.createElement("h5",null,Object(E.f)("label.languageSettings")),m.a.createElement("div",{className:"card rounded-0 mb-3 text-left"},m.a.createElement("div",{className:"card-body"},m.a.createElement($,{location:a.location})))),m.a.createElement("div",{className:"my-5"},m.a.createElement("h5",null,Object(E.f)("components.profile.changePassword")),m.a.createElement("div",{className:"card rounded-0 mb-3 text-left"},m.a.createElement("div",{className:"card-body"},m.a.createElement(Q,{location:a.location})))))),m.a.createElement(g.b,{path:"/profile/change-profile-photo",render:function(){return m.a.createElement(M,null)}}))))}}]),a}(p.Component);Object(y.b)(y.a,P.d,P.j),ee.propTypes={history:b.a.object,user:b.a.object},t.default=Object(g.g)(Object(O.a)(ee))}}]);